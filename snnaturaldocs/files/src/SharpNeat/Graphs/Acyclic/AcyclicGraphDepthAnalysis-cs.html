<!DOCTYPE html>

<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>AcyclicGraphDepthAnalysis.cs</title><link rel="stylesheet" type="text/css" href="../../../../../styles/main.css" /><script type="text/javascript" src="../../../../../styles/main.js"></script><script type="text/javascript">NDLoader.LoadJS("Content", "../../../../../styles/");</script></head>

<!-- Generated by Natural Docs, version 2.2 -->

<!-- saved from url=(0016)http://localhost -->

<body onload="NDLoader.OnLoad('Content');" class="NDPage NDContentPage">

<a name="Variables"></a><a name="Topic721"></a><div class="CTopic TGroup LCSharp first">
 <div class="CTitle">Variables</div>
</div>

<a name="SharpNeat.Graphs.Acyclic"></a><a name="Topic722"></a><div class="CTopic TVariable LCSharp">
 <div class="CTitle"><span class="Qualifier">SharpNeat.&#8203;Graphs.</span>&#8203;Acyclic</div>
 <div id="NDPrototype722" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">namespace</span> SharpNeat.Graphs.Acyclic</div></div>
</div>

<a name="AcyclicGraphDepthAnalysis"></a><a name="Topic723"></a><div class="CTopic TClass LCSharp">
 <div class="CTitle">AcyclicGraphDepthAnalysis</div>
 <div class="NDClassPrototype" id="NDClassPrototype723"><div class="CPEntry TClass Current"><div class="CPModifiers"><span class="SHKeyword">public sealed</span></div><div class="CPName">AcyclicGraphDepthAnalysis</div></div></div>
 <div class="CBody"><p>An algorithm for calculating the depth of each node in an acyclic graph.&nbsp; Input nodes are defined as being at depth 0, the depth of all other nodes is defined as the maximum number of hops to each node from an input node. I.e. where multiple paths exist to a node (potentially each with a different numbers of hops), the node's depth is defined by the path with the most number of hops.</p><p>The algorithm utilises a depth first traversal of the graph, but using its own traversal stack data structure instead of relying on function recursion and the call stack. This is an optimisation, for more details see the comments on: Neat.Reproduction.Sexual.Strategy.UniformCrossover.CyclicConnectionCheck.&nbsp; Also see: <a href="../../../../../index.html#File:src/SharpNeat/Neat/Reproduction/Sexual/Strategy/UniformCrossover/CyclicConnectionCheck.cs:CyclicConnectionCheck" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,1561);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >CyclicConnectionCheck</a> <a href="../../../../../index.html#File:src/SharpNeat/Graphs/CyclicGraphCheck.cs:CyclicGraphCheck" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,877);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >CyclicGraphCheck</a>.</p></div>
</div>

<a name="AcyclicGraphDepthAnalysis.Variables"></a><a name="Topic724"></a><div class="CTopic TGroup LCSharp">
 <div class="CTitle">Variables</div>
</div>

<a name="AcyclicGraphDepthAnalysis._traversalStack"></a><a name="Topic725"></a><div class="CTopic TVariable LCSharp">
 <div class="CTitle">_traversalStack</div>
 <div id="NDPrototype725" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">readonly</span> LightweightStack&lt;<a href="../../../../../index.html#File:src/SharpNeat/Graphs/Acyclic/AcyclicGraphDepthAnalysis.cs:AcyclicGraphDepthAnalysis.StackFrame" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,736);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >StackFrame</a>&gt; _traversalStack</div></div>
</div>

<a name="AcyclicGraphDepthAnalysis._cyclicGraphCheck"></a><a name="Topic726"></a><div class="CTopic TVariable LCSharp">
 <div class="CTitle">_cyclicGraphCheck</div>
 <div id="NDPrototype726" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">readonly</span> <a href="../../../../../index.html#File:src/SharpNeat/Graphs/CyclicGraphCheck.cs:CyclicGraphCheck" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,877);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >CyclicGraphCheck</a>? _cyclicGraphCheck</div></div>
</div>

<a name="AcyclicGraphDepthAnalysis._reentranceFlag"></a><a name="Topic727"></a><div class="CTopic TVariable LCSharp">
 <div class="CTitle">_reentranceFlag</div>
 <div id="NDPrototype727" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">int</span> _reentranceFlag</div></div>
</div>

<a name="AcyclicGraphDepthAnalysis.Functions"></a><a name="Topic728"></a><div class="CTopic TGroup LCSharp">
 <div class="CTitle">Functions</div>
</div>

<a name="AcyclicGraphDepthAnalysis.AcyclicGraphDepthAnalysis"></a><a name="Topic729"></a><div class="CTopic TFunction LCSharp">
 <div class="CTitle">AcyclicGraphDepthAnalysis</div>
 <div id="NDPrototype729" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">public</span> AcyclicGraphDepthAnalysis()</div></div>
 <div class="CBody"><p>Default constructor.</p></div>
</div>

<a name="AcyclicGraphDepthAnalysis.AcyclicGraphDepthAnalysis(2)"></a><a name="Topic730"></a><div class="CTopic TFunction LCSharp">
 <div class="CTitle">AcyclicGraphDepthAnalysis</div>
 <div id="NDPrototype730" class="NDPrototype WideForm"><div class="PSection PParameterSection CStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">public</span> AcyclicGraphDepthAnalysis(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PType first"><span class="SHKeyword">bool</span>&nbsp;</td><td class="PName last">validateAcyclic</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>Construct with a validateAcyclic flag.</p><p>If the caller can guarantee that calls to CalculateNodeDepths() will provide acyclic graphs only, then validateAcyclic can be set to false to avoid the cost of the cyclic graph check (which is relatively expensive to perform).</p><div class="CHeading">Parameter</div><table class="CDefinitionList"><tr><td class="CDLEntry">validateAcyclic<div class="CDLParameterType"><span class="SHKeyword">bool</span></div></td><td class="CDLDefinition"><p>If true then each call to <a href="../../../../../index.html#File:src/SharpNeat/Graphs/Acyclic/AcyclicGraphDepthAnalysis.cs:AcyclicGraphDepthAnalysis.CalculateNodeDepths" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,731);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >CalculateNodeDepths</a> will test if the graph is cyclic before calculating the acyclic node depths. This is computationally expensive, and as such is intended to be used in debugging and testing scenarios only.</p></td></tr></table></div>
</div>

<a name="AcyclicGraphDepthAnalysis.CalculateNodeDepths"></a><a name="Topic731"></a><div class="CTopic TFunction LCSharp">
 <div class="CTitle">CalculateNodeDepths</div>
 <div id="NDPrototype731" class="NDPrototype WideForm"><div class="PSection PParameterSection CStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">public</span> <a href="../../../../../index.html#File:src/SharpNeat/Graphs/Acyclic/GraphDepthInfo.cs:GraphDepthInfo" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,698);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >GraphDepthInfo</a> CalculateNodeDepths(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PType first"><a href="../../../../../index.html#File:src/SharpNeat/Graphs/DirectedGraph.cs:DirectedGraph" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,807);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >DirectedGraph</a>&nbsp;</td><td class="PName last">digraph</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>Calculate node depths in an acyclic directed graph.</p><p>If digraph represents a cyclic graph, then this method will either (a) If validateAcyclic=true passed in at construction time, then an exception is thrown; otherwise (b) this method is non-completing, and will ultimately cause an out-of-memory exception.&nbsp; The cyclic test is expensive, therefore it should be avoided in normal use if possible, thus relying on the correctness of the caller, i.e., the caller should only ever call this method with acyclic graphs.</p><div class="CHeading">Parameter</div><table class="CDefinitionList"><tr><td class="CDLEntry">digraph<div class="CDLParameterType"><a href="../../../../../index.html#File:src/SharpNeat/Graphs/DirectedGraph.cs:DirectedGraph" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,807);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >DirectedGraph</a></div></td><td class="CDLDefinition"><p>The directed graph.</p></td></tr></table><div class="CHeading">Returns</div><p>A new instance of <a href="../../../../../index.html#File:src/SharpNeat/Graphs/Acyclic/GraphDepthInfo.cs:GraphDepthInfo" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,698);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >GraphDepthInfo</a>.</p></div>
</div>

<a name="AcyclicGraphDepthAnalysis.CalculateNodeDepthsInner"></a><a name="Topic732"></a><div class="CTopic TFunction LCSharp">
 <div class="CTitle">CalculateNodeDepthsInner</div>
 <div id="NDPrototype732" class="NDPrototype WideForm"><div class="PSection PParameterSection CStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">private</span> <span class="SHKeyword">void</span> CalculateNodeDepthsInner(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PType first"><a href="../../../../../index.html#File:src/SharpNeat/Graphs/DirectedGraph.cs:DirectedGraph" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,807);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >DirectedGraph</a>&nbsp;</td><td class="PName last">digraph</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
</div>

<a name="AcyclicGraphDepthAnalysis.TraverseGraph"></a><a name="Topic733"></a><div class="CTopic TFunction LCSharp">
 <div class="CTitle">TraverseGraph</div>
 <div id="NDPrototype733" class="NDPrototype WideForm"><div class="PSection PParameterSection CStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">private</span> <span class="SHKeyword">void</span> TraverseGraph(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PType first"><a href="../../../../../index.html#File:src/SharpNeat/Graphs/DirectedGraph.cs:DirectedGraph" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,807);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >DirectedGraph</a>&nbsp;</td><td class="PName last">digraph</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>The graph traversal algorithm.</p><div class="CHeading">Parameter</div><table class="CDefinitionList"><tr><td class="CDLEntry">digraph<div class="CDLParameterType"><a href="../../../../../index.html#File:src/SharpNeat/Graphs/DirectedGraph.cs:DirectedGraph" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,807);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >DirectedGraph</a></div></td><td class="CDLDefinition"><p>The directed acyclic graph to traverse.</p></td></tr></table></div>
</div>

<a name="AcyclicGraphDepthAnalysis.MoveForward"></a><a name="Topic734"></a><div class="CTopic TFunction LCSharp">
 <div class="CTitle">MoveForward</div>
 <div id="NDPrototype734" class="NDPrototype WideForm"><div class="PSection PParameterSection CStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">private</span> <span class="SHKeyword">void</span> MoveForward(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="first"></td><td class="PType">ReadOnlySpan&lt;<span class="SHKeyword">int</span>&gt;&nbsp;</td><td class="PName last">srcIds,</td></tr><tr><td class="first"></td><td class="PType">ReadOnlySpan&lt;<span class="SHKeyword">int</span>&gt;&nbsp;</td><td class="PName last">tgtIds,</td></tr><tr><td class="PModifierQualifier first"><span class="SHKeyword">in</span>&nbsp;</td><td class="PType"><a href="../../../../../index.html#File:src/SharpNeat/Graphs/Acyclic/AcyclicGraphDepthAnalysis.cs:AcyclicGraphDepthAnalysis.StackFrame" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,736);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >StackFrame</a>&nbsp;</td><td class="PName last">currStackFrame</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>Update the stack state to point to the next connection to traverse down.</p></div>
</div>

<a name="AcyclicGraphDepthAnalysis.Cleanup"></a><a name="Topic735"></a><div class="CTopic TFunction LCSharp">
 <div class="CTitle">Cleanup</div>
 <div id="NDPrototype735" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">private</span> <span class="SHKeyword">void</span> Cleanup()</div></div>
</div>

<a name="AcyclicGraphDepthAnalysis.StackFrame"></a><a name="Topic736"></a><div class="CTopic TStruct LCSharp">
 <div class="CTitle"><span class="Qualifier">AcyclicGraphDepthAnalysis.</span>&#8203;StackFrame</div>
 <div class="NDClassPrototype" id="NDClassPrototype736"><div class="CPEntry TStruct Current"><div class="CPModifiers"><span class="SHKeyword">readonly</span> <span class="SHKeyword">struct</span></div><div class="CPName"><span class="Qualifier">AcyclicGraphDepthAnalysis.</span>&#8203;StackFrame</div></div></div>
</div>

<a name="AcyclicGraphDepthAnalysis.StackFrame.Variables"></a><a name="Topic737"></a><div class="CTopic TGroup LCSharp">
 <div class="CTitle">Variables</div>
</div>

<a name="AcyclicGraphDepthAnalysis.StackFrame.ConnectionIdx"></a><a name="Topic738"></a><div class="CTopic TVariable LCSharp">
 <div class="CTitle">ConnectionIdx</div>
 <div id="NDPrototype738" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">public readonly</span> <span class="SHKeyword">int</span> ConnectionIdx</div></div>
</div>

<a name="AcyclicGraphDepthAnalysis.StackFrame.Depth"></a><a name="Topic739"></a><div class="CTopic TVariable LCSharp">
 <div class="CTitle">Depth</div>
 <div id="NDPrototype739" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">public readonly</span> <span class="SHKeyword">int</span> Depth</div></div>
</div>

<a name="AcyclicGraphDepthAnalysis.StackFrame.Functions"></a><a name="Topic740"></a><div class="CTopic TGroup LCSharp">
 <div class="CTitle">Functions</div>
</div>

<a name="AcyclicGraphDepthAnalysis.StackFrame.StackFrame"></a><a name="Topic741"></a><div class="CTopic TFunction LCSharp last">
 <div class="CTitle">StackFrame</div>
 <div id="NDPrototype741" class="NDPrototype WideForm"><div class="PSection PParameterSection CStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">public</span> StackFrame(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PType first"><span class="SHKeyword">int</span>&nbsp;</td><td class="PName last">connIdx,</td></tr><tr><td class="PType first"><span class="SHKeyword">int</span>&nbsp;</td><td class="PName last">depth</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
</div>

</body></html>