<!DOCTYPE html>

<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>CartDoublePoleEvaluator.cs</title><link rel="stylesheet" type="text/css" href="../../../../../styles/main.css" /><script type="text/javascript" src="../../../../../styles/main.js"></script><script type="text/javascript">NDLoader.LoadJS("Content", "../../../../../styles/");</script></head>

<!-- Generated by Natural Docs, version 2.2 -->

<!-- saved from url=(0016)http://localhost -->

<body onload="NDLoader.OnLoad('Content');" class="NDPage NDContentPage">

<a name="Variables"></a><a name="Topic2644"></a><div class="CTopic TGroup LCSharp first">
 <div class="CTitle">Variables</div>
</div>

<a name="SharpNeat.Tasks.CartPole.DoublePole"></a><a name="Topic2645"></a><div class="CTopic TVariable LCSharp">
 <div class="CTitle"><span class="Qualifier">SharpNeat.&#8203;Tasks.&#8203;CartPole.</span>&#8203;DoublePole</div>
 <div id="NDPrototype2645" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">namespace</span> SharpNeat.Tasks.CartPole.DoublePole</div></div>
</div>

<a name="CartDoublePoleEvaluator"></a><a name="Topic2646"></a><div class="CTopic TClass LCSharp">
 <div class="CTitle">CartDoublePoleEvaluator</div>
 <div class="NDClassPrototype HasParents" id="NDClassPrototype2646"><a class="CPEntry Parent TInterface" href="../../../../../index.html#File:src/SharpNeat/Evaluation/IPhenomeEvaluator.cs:IPhenomeEvaluator" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,334);" onmouseout="NDContentPage.OnLinkMouseOut(event);" ><div class="CPName">IPhenomeEvaluator&#8203;<span class="TemplateSignature">&lt;IBlackBox&lt;<span class="SHKeyword">double</span>&gt;&gt;</span></div></a><div class="CPEntry TClass Current"><div class="CPModifiers"><span class="SHKeyword">public sealed</span></div><div class="CPName">CartDoublePoleEvaluator</div></div></div>
 <div class="CBody"><p>Evaluator for the cart and double pole balancing task.</p><p>This task is solvable by SharpNEAT, but not on every run. This is likely due to 'deceptive' local maxima in the fitness landscape.&nbsp; As such this task would be a reasonable choice for research into addressing the problem of fitness landscape deception.&nbsp; This task can be made more difficult by not providing the velocity information (the cart and the two pole angular velocities) to the neural network. Difficulty can be further increases by making the two pole lengths increasingly similar, with the task becoming impossible when the poles have the same length.&nbsp; As things stand the problem is difficult enough in its current form, therefore we provide velocity inputs and define two very different pole lengths.</p></div>
</div>

<a name="CartDoublePoleEvaluator.Constants"></a><a name="Topic2647"></a><div class="CTopic TGroup LCSharp">
 <div class="CTitle">Constants</div>
</div>

<a name="CartDoublePoleEvaluator.__MaxForce"></a><a name="Topic2648"></a><div class="CTopic TConstant LCSharp">
 <div class="CTitle">__MaxForce</div>
 <div id="NDPrototype2648" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">const</span> <span class="SHKeyword">float</span> __MaxForce</div></div>
</div>

<a name="CartDoublePoleEvaluator.__MaxPoleAngle"></a><a name="Topic2649"></a><div class="CTopic TConstant LCSharp">
 <div class="CTitle">__MaxPoleAngle</div>
 <div id="NDPrototype2649" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">const</span> <span class="SHKeyword">float</span> __MaxPoleAngle</div></div>
</div>

<a name="CartDoublePoleEvaluator.__MaxPoleAngle_Reciprocal"></a><a name="Topic2650"></a><div class="CTopic TConstant LCSharp">
 <div class="CTitle">__MaxPoleAngle_Reciprocal</div>
 <div id="NDPrototype2650" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">const</span> <span class="SHKeyword">float</span> __MaxPoleAngle_Reciprocal</div></div>
</div>

<a name="CartDoublePoleEvaluator.__TrackLengthHalf"></a><a name="Topic2651"></a><div class="CTopic TConstant LCSharp">
 <div class="CTitle">__TrackLengthHalf</div>
 <div id="NDPrototype2651" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">const</span> <span class="SHKeyword">float</span> __TrackLengthHalf</div></div>
</div>

<a name="CartDoublePoleEvaluator.__TrackLengthHalf_Reciprocal"></a><a name="Topic2652"></a><div class="CTopic TConstant LCSharp">
 <div class="CTitle">__TrackLengthHalf_Reciprocal</div>
 <div id="NDPrototype2652" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">const</span> <span class="SHKeyword">float</span> __TrackLengthHalf_Reciprocal</div></div>
</div>

<a name="CartDoublePoleEvaluator.Variables"></a><a name="Topic2653"></a><div class="CTopic TGroup LCSharp">
 <div class="CTitle">Variables</div>
</div>

<a name="CartDoublePoleEvaluator._maxTimesteps"></a><a name="Topic2654"></a><div class="CTopic TVariable LCSharp">
 <div class="CTitle">_maxTimesteps</div>
 <div id="NDPrototype2654" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">readonly</span> <span class="SHKeyword">int</span> _maxTimesteps</div></div>
</div>

<a name="CartDoublePoleEvaluator._maxTimesteps_Reciprocal"></a><a name="Topic2655"></a><div class="CTopic TVariable LCSharp">
 <div class="CTitle">_maxTimesteps_Reciprocal</div>
 <div id="NDPrototype2655" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">readonly</span> <span class="SHKeyword">float</span> _maxTimesteps_Reciprocal</div></div>
</div>

<a name="CartDoublePoleEvaluator._physics"></a><a name="Topic2656"></a><div class="CTopic TVariable LCSharp">
 <div class="CTitle">_physics</div>
 <div id="NDPrototype2656" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">readonly</span> <a href="../../../../../index.html#File:src/SharpNeat.Tasks/CartPole/DoublePole/CartDoublePolePhysicsRK4.cs:CartDoublePolePhysicsRK4" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,2602);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >CartDoublePolePhysicsRK4</a> _physics</div></div>
</div>

<a name="CartDoublePoleEvaluator.Functions"></a><a name="Topic2657"></a><div class="CTopic TGroup LCSharp">
 <div class="CTitle">Functions</div>
</div>

<a name="CartDoublePoleEvaluator.CartDoublePoleEvaluator"></a><a name="Topic2658"></a><div class="CTopic TFunction LCSharp">
 <div class="CTitle">CartDoublePoleEvaluator</div>
 <div id="NDPrototype2658" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">public</span> CartDoublePoleEvaluator()</div></div>
 <div class="CBody"><p>Construct evaluator with default task arguments/variables.</p><p>Default to 960 timesteps, or 960/16 = 60 seconds of clock time.</p></div>
</div>

<a name="CartDoublePoleEvaluator.CartDoublePoleEvaluator(2)"></a><a name="Topic2659"></a><div class="CTopic TFunction LCSharp">
 <div class="CTitle">CartDoublePoleEvaluator</div>
 <div id="NDPrototype2659" class="NDPrototype WideForm"><div class="PSection PParameterSection CStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">public</span> CartDoublePoleEvaluator(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PType first"><span class="SHKeyword">int</span>&nbsp;</td><td class="PName last">maxTimesteps</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>Construct evaluator with the provided task arguments/variables.</p><div class="CHeading">Parameter</div><table class="CDefinitionList"><tr><td class="CDLEntry">maxTimesteps<div class="CDLParameterType"><span class="SHKeyword">int</span></div></td><td class="CDLDefinition"><p>The maximum number of timesteps to run the physics simulation for.</p></td></tr></table></div>
</div>

<a name="CartDoublePoleEvaluator.Evaluate"></a><a name="Topic2660"></a><div class="CTopic TFunction LCSharp">
 <div class="CTitle">Evaluate</div>
 <div id="NDPrototype2660" class="NDPrototype WideForm"><div class="PSection PParameterSection CStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">public</span> <a href="../../../../../index.html#File:src/SharpNeat/Evaluation/FitnessInfo.cs:FitnessInfo" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,407);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >FitnessInfo</a> Evaluate(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PType first"><a href="../../../../../index.html#File:src/SharpNeat/IBlackBox.cs:IBlackBox" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,2367);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >IBlackBox</a>&lt;<span class="SHKeyword">double</span>&gt;&nbsp;</td><td class="PName last">box</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>Evaluate the provided black box against the cart and double pole balancing task, and return its fitness score.</p><div class="CHeading">Parameter</div><table class="CDefinitionList"><tr><td class="CDLEntry">box<div class="CDLParameterType"><a href="../../../../../index.html#File:src/SharpNeat/IBlackBox.cs:IBlackBox" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,2367);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >IBlackBox</a>&lt;<span class="SHKeyword">double</span>&gt;</div></td><td class="CDLDefinition"><p>The black box to evaluate.</p></td></tr></table><div class="CHeading">Returns</div><p>A new instance of <a href="../../../../../index.html#File:src/SharpNeat/Evaluation/FitnessInfo.cs:FitnessInfo" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,407);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >FitnessInfo</a>.</p></div>
</div>

<a name="CartDoublePoleEvaluator.RunTrial"></a><a name="Topic2661"></a><div class="CTopic TFunction LCSharp">
 <div class="CTitle">RunTrial</div>
 <div id="NDPrototype2661" class="NDPrototype WideForm"><div class="PSection PParameterSection CStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">public</span> <span class="SHKeyword">float</span> RunTrial(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PType first"><a href="../../../../../index.html#File:src/SharpNeat/IBlackBox.cs:IBlackBox" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,2367);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >IBlackBox</a>&lt;<span class="SHKeyword">double</span>&gt;&nbsp;</td><td class="PName last">box,</td></tr><tr><td class="PType first"><span class="SHKeyword">float</span>&nbsp;</td><td class="PName last">cartPos,</td></tr><tr><td class="PType first"><span class="SHKeyword">float</span>&nbsp;</td><td class="PName last">poleAngle1,</td></tr><tr><td class="PType first"><span class="SHKeyword">float</span>&nbsp;</td><td class="PName last">poleAngle2</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>Run a single cart-pole simulation/trial on the given black box, and with the given initial model state.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">box<div class="CDLParameterType"><a href="../../../../../index.html#File:src/SharpNeat/IBlackBox.cs:IBlackBox" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,2367);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >IBlackBox</a>&lt;<span class="SHKeyword">double</span>&gt;</div></td><td class="CDLDefinition"><p>The black box (neural net) to evaluate.</p></td></tr><tr><td class="CDLEntry">cartPos<div class="CDLParameterType"><span class="SHKeyword">float</span></div></td><td class="CDLDefinition"><p>Cart position on the track.</p></td></tr><tr><td class="CDLEntry">poleAngle1<div class="CDLParameterType"><span class="SHKeyword">float</span></div></td><td class="CDLDefinition"><p>Pole 1 angle in radians.</p></td></tr><tr><td class="CDLEntry">poleAngle2<div class="CDLParameterType"><span class="SHKeyword">float</span></div></td><td class="CDLDefinition"><p>Pole 2 angle in radians.</p></td></tr></table><div class="CHeading">Returns</div><p>Fitness score.</p></div>
</div>

<a name="CartDoublePoleEvaluator.ClipForce"></a><a name="Topic2662"></a><div class="CTopic TFunction LCSharp">
 <div class="CTitle">ClipForce</div>
 <div id="NDPrototype2662" class="NDPrototype WideForm"><div class="PSection PParameterSection CStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">private static</span> <span class="SHKeyword">void</span> ClipForce(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PModifierQualifier first"><span class="SHKeyword">ref</span>&nbsp;</td><td class="PType"><span class="SHKeyword">float</span>&nbsp;</td><td class="PName last">x</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
</div>

<a name="CartDoublePoleEvaluator.DegreesToRadians"></a><a name="Topic2663"></a><div class="CTopic TFunction LCSharp last">
 <div class="CTitle">DegreesToRadians</div>
 <div id="NDPrototype2663" class="NDPrototype WideForm"><div class="PSection PParameterSection CStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">private static</span> <span class="SHKeyword">float</span> DegreesToRadians(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PType first"><span class="SHKeyword">float</span>&nbsp;</td><td class="PName last">degrees</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
</div>

</body></html>