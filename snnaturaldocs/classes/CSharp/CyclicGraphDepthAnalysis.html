<!DOCTYPE html>

<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>CyclicGraphDepthAnalysis</title><link rel="stylesheet" type="text/css" href="../../styles/main.css" /><script type="text/javascript" src="../../styles/main.js"></script><script type="text/javascript">NDLoader.LoadJS("Content", "../../styles/");</script></head>

<!-- Generated by Natural Docs, version 2.2 -->

<!-- saved from url=(0016)http://localhost -->

<body onload="NDLoader.OnLoad('Content');" class="NDPage NDContentPage">

<a name="Topic848"></a><div class="CTopic TClass LCSharp first">
 <div class="CTitle">CyclicGraphDepthAnalysis</div>
 <div class="NDClassPrototype" id="NDClassPrototype848"><div class="CPEntry TClass Current"><div class="CPModifiers"><span class="SHKeyword">public sealed</span></div><div class="CPName">CyclicGraphDepthAnalysis</div></div></div>
 <div class="CBody"><p>An algorithm for calculating the depth of each node in an cyclic graph.&nbsp; Input nodes are defined as being at depth 0, and the depth of all other nodes is a determined as per the following scheme:&nbsp; Multiple separate traversals of the graph are made, one starting at each input node. Each traversal assigns a depth value to the visited nodes, and where a node is on multiple paths, the highest depth value is recorded.&nbsp; Once all traversal are complete, the average of all depths recorded against each node is calculated and rounded up to the nearest integer. Finally, if the scheme has resulted in empty layers (e.g. a node allocated to depth 2, but no nodes at depth 1) then the depth values are adjusted to remove the empty layer(s).&nbsp; The motivation for this slightly convoluted scheme is to create 'balanced' depth allocations when large cyclic loops might assign nodes very high depth values that might not be warranted, e.g. if most connections to a node would assign it a low depth, but a single cycle assigns it a high depth. Use of a mean/average depth is a compromise on the depth allocation of such a node. Median, min, or max could also be used, or indeed any aggregate function.&nbsp; The graph traversal algorithm uses function recursion. A number of other classes in SharpNEAT perform graph traversal by using a separate traversal stack (stored on the heap); that approach is faster but more complex, thus this class has not been converted to the faster approach because it is not directly used in the evolutionary algorithm. At time of writing this class is used only for graph visualization.</p></div>
</div>

<a name="Variables"></a><a name="Topic849"></a><div class="CTopic TGroup LCSharp">
 <div class="CTitle">Variables</div>
</div>

<a name="_digraph"></a><a name="Topic850"></a><div class="CTopic TVariable LCSharp">
 <div class="CTitle">_digraph</div>
 <div id="NDPrototype850" class="NDPrototype"><div class="PSection PPlainSection"><a href="../../index.html#CSharpClass:DirectedGraph" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,807);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >DirectedGraph</a>? _digraph</div></div>
</div>

<a name="_ancestorNodeBitmap"></a><a name="Topic851"></a><div class="CTopic TVariable LCSharp">
 <div class="CTitle">_ancestorNodeBitmap</div>
 <div id="NDPrototype851" class="NDPrototype"><div class="PSection PPlainSection">BoolArray _ancestorNodeBitmap</div></div>
</div>

<a name="_nodeDepthMatrix"></a><a name="Topic852"></a><div class="CTopic TVariable LCSharp">
 <div class="CTitle">_nodeDepthMatrix</div>
 <div id="NDPrototype852" class="NDPrototype"><div class="PSection PPlainSection">LightweightList&lt;<span class="SHKeyword">int</span>&gt;[] _nodeDepthMatrix</div></div>
</div>

<a name="_reentranceFlag"></a><a name="Topic853"></a><div class="CTopic TVariable LCSharp">
 <div class="CTitle">_reentranceFlag</div>
 <div id="NDPrototype853" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">int</span> _reentranceFlag</div></div>
</div>

<a name="Functions"></a><a name="Topic854"></a><div class="CTopic TGroup LCSharp">
 <div class="CTitle">Functions</div>
</div>

<a name="CalculateNodeDepths"></a><a name="Topic855"></a><div class="CTopic TFunction LCSharp">
 <div class="CTitle">CalculateNodeDepths</div>
 <div id="NDPrototype855" class="NDPrototype WideForm"><div class="PSection PParameterSection CStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">public</span> <a href="../../index.html#CSharpClass:GraphDepthInfo" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,698);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >GraphDepthInfo</a> CalculateNodeDepths(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PType first"><a href="../../index.html#CSharpClass:DirectedGraph" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,807);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >DirectedGraph</a>&nbsp;</td><td class="PName last">digraph</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>Calculate node depths in a cyclic network.</p><div class="CHeading">Parameter</div><table class="CDefinitionList"><tr><td class="CDLEntry">digraph<div class="CDLParameterType"><a href="../../index.html#CSharpClass:DirectedGraph" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,807);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >DirectedGraph</a></div></td><td class="CDLDefinition"><p>The directed graph.</p></td></tr></table><div class="CHeading">Returns</div><p>A new instance of <a href="../../index.html#CSharpClass:GraphDepthInfo" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,698);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >GraphDepthInfo</a>.</p></div>
</div>

<a name="EnsureNodeCapacity"></a><a name="Topic856"></a><div class="CTopic TFunction LCSharp">
 <div class="CTitle">EnsureNodeCapacity</div>
 <div id="NDPrototype856" class="NDPrototype WideForm"><div class="PSection PParameterSection CStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">private</span> <span class="SHKeyword">void</span> EnsureNodeCapacity(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PType first"><span class="SHKeyword">int</span>&nbsp;</td><td class="PName last">requiredCapacity,</td></tr><tr><td class="PType first"><span class="SHKeyword">int</span>&nbsp;</td><td class="PName last">inputCount</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
</div>

<a name="TraverseNode"></a><a name="Topic857"></a><div class="CTopic TFunction LCSharp">
 <div class="CTitle">TraverseNode</div>
 <div id="NDPrototype857" class="NDPrototype WideForm"><div class="PSection PParameterSection CStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">private</span> <span class="SHKeyword">void</span> TraverseNode(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PType first"><span class="SHKeyword">int</span>&nbsp;</td><td class="PName last">nodeIdx,</td></tr><tr><td class="PType first"><span class="SHKeyword">int</span>&nbsp;</td><td class="PName last">depth</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
</div>

<a name="RecordTraversalNodeDepths"></a><a name="Topic858"></a><div class="CTopic TFunction LCSharp">
 <div class="CTitle">RecordTraversalNodeDepths</div>
 <div id="NDPrototype858" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">private</span> <span class="SHKeyword">void</span> RecordTraversalNodeDepths()</div></div>
</div>

<a name="DetermineFinalNodeDepths"></a><a name="Topic859"></a><div class="CTopic TFunction LCSharp">
 <div class="CTitle">DetermineFinalNodeDepths</div>
 <div id="NDPrototype859" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">private</span> <span class="SHKeyword">void</span> DetermineFinalNodeDepths()</div></div>
</div>

<a name="Cleanup"></a><a name="Topic860"></a><div class="CTopic TFunction LCSharp">
 <div class="CTitle">Cleanup</div>
 <div id="NDPrototype860" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">private</span> <span class="SHKeyword">void</span> Cleanup()</div></div>
</div>

<a name="CreateNodeDepthMatrix"></a><a name="Topic861"></a><div class="CTopic TFunction LCSharp last">
 <div class="CTitle">CreateNodeDepthMatrix</div>
 <div id="NDPrototype861" class="NDPrototype WideForm"><div class="PSection PParameterSection CStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">private static</span> LightweightList&lt;<span class="SHKeyword">int</span>&gt;[] CreateNodeDepthMatrix(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PType first"><span class="SHKeyword">int</span>&nbsp;</td><td class="PName last">nodeCount,</td></tr><tr><td class="PType first"><span class="SHKeyword">int</span>&nbsp;</td><td class="PName last">inputCount</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
</div>

</body></html>